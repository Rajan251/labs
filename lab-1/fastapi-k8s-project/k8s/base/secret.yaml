# =============================================================================
# KUBERNETES SECRET
# =============================================================================
# Secrets store sensitive data like passwords, tokens, and keys
# 
# IMPORTANT SECURITY NOTES:
# 1. This is a TEMPLATE - DO NOT commit actual secrets to Git!
# 2. In production, use external secret management:
#    - HashiCorp Vault
#    - AWS Secrets Manager
#    - Azure Key Vault
#    - Google Secret Manager
# 3. Values must be base64 encoded
#
# Encoding secrets:
#   echo -n "your-secret-value" | base64
#
# Decoding secrets:
#   echo "base64-encoded-value" | base64 -d
#
# Usage:
#   kubectl apply -f secret.yaml -n fastapi-app
#   kubectl get secrets -n fastapi-app
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: fastapi-secrets
  namespace: fastapi-app
  labels:
    app: fastapi-app
type: Opaque
data:
  # IMPORTANT: Replace these with actual base64-encoded values!
  # These are examples only - DO NOT use in production
  
  # Database URL (base64 encoded)
  # Example: postgresql://user:password@postgres-service:5432/dbname
  DATABASE_URL: cG9zdGdyZXNxbDovL3Bvc3RncmVzOnBvc3RncmVzQHBvc3RncmVzLXNlcnZpY2U6NTQzMi9mYXN0YXBpX2Ri
  
  # Secret key for JWT tokens (base64 encoded)
  # Generate with: openssl rand -hex 32 | base64
  SECRET_KEY: eW91ci1zZWNyZXQta2V5LWNoYW5nZS1pbi1wcm9kdWN0aW9u
  
  # Redis password (base64 encoded) - if using authentication
  REDIS_PASSWORD: ""
  
  # External API credentials (base64 encoded)
  EXTERNAL_API_KEY: ""

---
# =============================================================================
# HOW TO CREATE SECRETS SECURELY
# =============================================================================
# 
# Method 1: Using kubectl create secret
# kubectl create secret generic fastapi-secrets \
#   --from-literal=DATABASE_URL='postgresql://user:pass@host:5432/db' \
#   --from-literal=SECRET_KEY='your-secret-key' \
#   -n fastapi-app
#
# Method 2: Using kubectl from file
# kubectl create secret generic fastapi-secrets \
#   --from-env-file=.env.production \
#   -n fastapi-app
#
# Method 3: Using external secret management (RECOMMENDED)
# - Install External Secrets Operator
# - Configure SecretStore (Vault, AWS, etc.)
# - Create ExternalSecret resource
# =============================================================================
