# ============================================
# ALERT MANAGEMENT SYSTEM - ENVIRONMENT VARIABLES
# ============================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!
# ============================================

# ==========================================
# PAGERDUTY CONFIGURATION (REQUIRED)
# ==========================================
# Get your integration key from:
# PagerDuty → Services → Service Directory → Your Service → Integrations
PAGERDUTY_INTEGRATION_KEY=your_pagerduty_integration_key_here

# PagerDuty API Token (Optional - for advanced features)
# Get from: PagerDuty → Integrations → API Access Keys
PAGERDUTY_API_TOKEN=

# ==========================================
# SLACK CONFIGURATION (OPTIONAL)
# ==========================================
# Create an Incoming Webhook:
# Slack → Apps → Incoming Webhooks → Add to Workspace
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#alerts

# ==========================================
# EMAIL CONFIGURATION (OPTIONAL)
# ==========================================
# SMTP server for email notifications
SMTP_SMARTHOST=smtp.gmail.com:587
SMTP_FROM=alerts@yourdomain.com
SMTP_AUTH_USERNAME=your-email@gmail.com
SMTP_AUTH_PASSWORD=your-app-specific-password

# For Gmail, create an App Password:
# Google Account → Security → 2-Step Verification → App passwords

# ==========================================
# PROMETHEUS CONFIGURATION
# ==========================================
# External labels for multi-cluster setups
PROMETHEUS_CLUSTER_NAME=production
PROMETHEUS_ENVIRONMENT=prod
PROMETHEUS_REGION=us-east-1

# Data retention
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# ==========================================
# ALERTMANAGER CONFIGURATION
# ==========================================
# External URL (used in alert links)
ALERTMANAGER_EXTERNAL_URL=http://localhost:9093

# Resolve timeout (how long to wait before auto-resolving)
ALERTMANAGER_RESOLVE_TIMEOUT=5m

# ==========================================
# SECURITY (OPTIONAL)
# ==========================================
# Basic auth for Prometheus/Alertmanager
# Generate with: htpasswd -nB admin
BASIC_AUTH_USERNAME=admin
BASIC_AUTH_PASSWORD_HASH=

# ==========================================
# CUSTOM TARGETS (OPTIONAL)
# ==========================================
# Additional scrape targets (comma-separated)
CUSTOM_TARGETS=

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=info  # Options: debug, info, warn, error

# ==========================================
# DATABASE EXPORTERS
# ==========================================
# MySQL Exporter
MYSQL_EXPORTER_DSN=root:password@(mysql:3306)/
# Format: username:password@(host:port)/database

# PostgreSQL Exporter
POSTGRES_EXPORTER_DSN=postgresql://postgres:password@postgres:5432/postgres?sslmode=disable
# Format: postgresql://username:password@host:port/database?sslmode=disable

# Redis Exporter
REDIS_ADDR=redis:6379
REDIS_PASSWORD=

# MongoDB Exporter
MONGODB_URI=mongodb://mongodb:27017
# Format: mongodb://username:password@host:port

# Elasticsearch Exporter
ELASTICSEARCH_URI=http://elasticsearch:9200

# ==========================================
# WEB SERVER EXPORTERS
# ==========================================
# Nginx Exporter
NGINX_SCRAPE_URI=http://nginx:8080/stub_status

# ==========================================
# MESSAGING EXPORTERS
# ==========================================
# RabbitMQ Exporter
RABBITMQ_URL=http://rabbitmq:15672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest

# ==========================================
# NOTES
# ==========================================
# 1. Required: PAGERDUTY_INTEGRATION_KEY
# 2. Optional: All other variables have defaults
# 3. For production: Set strong passwords and use secrets management
# 4. Test configuration: ./scripts/test-alerts.sh
# ============================================
